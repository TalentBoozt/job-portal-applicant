<div class="notification-form-container">
  <h2>Add New Notification</h2>
  <form [formGroup]="notificationForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="message">Message</label>
      <textarea
        id="message"
        formControlName="message"
        rows="3"
        placeholder="Enter notification message"
        class="form-control"
      ></textarea>
      <div *ngIf="notificationForm.get('message')?.invalid && notificationForm.get('message')?.touched" class="error">
        Message is required and should be less than 200 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="startTime">Start Time</label>
      <input type="datetime-local" id="startTime" formControlName="startTime" class="form-control"/>
      <div *ngIf="notificationForm.get('startTime')?.invalid && notificationForm.get('startTime')?.touched" class="error">
        Start time is required.
      </div>
    </div>

    <div class="form-group">
      <label for="endTime">End Time</label>
      <input type="datetime-local" id="endTime" formControlName="endTime" class="form-control"/>
    </div>

    <div class="form-group">
      <label for="url">URL</label>
      <input type="text" id="url" formControlName="url" class="form-control"/>
    </div>

    <div class="form-group">
      <label for="active">Active&nbsp;</label>
      <input type="checkbox" id="active" formControlName="active"/>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="notificationForm.invalid">Add Notification</button>
  </form>
</div>

<div class="container">
  <div class="card-1">
    <h4>Manage Notifications</h4>
    <table class="table table-hover">
      <thead>
      <tr>
        <th scope="col">Message</th>
        <th scope="col">Active</th>
        <th scope="col">Delete</th>
        <th scope="col">Active Status</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let notification of notifications">
        <td>{{ notification.message }}</td>
        <td>{{ notification.active }}</td>
        <td><button class="delete" (click)="deleteNotification(notification.id)">Delete</button></td>
        <td><button class="change-visibility" (click)="updateStatus(notification.id)">Change</button></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
